---
description: Analyze recent interactions to detect patterns and naturally integrate improvements into existing workflows rather than creating explicit rules.
allowed-tools: Read, Edit, Bash(git add:*), Bash(git commit:*), Bash(git status:*)
---

# 🔄 Self-Upgrade

스스로 **최근 대화 내용**을 돌아보고, 사용자가 **개입한 패턴**을 찾아내어
이를 **기존 워크플로우의 자연스러운 개선**으로 통합해 프로젝트 문서를 강화하라.

## 지침

1. **최근 대화 분석**
   - 마지막 세션(약 50~80턴) 중 **사용자 개입 신호**를 수집한다.
     - 예: "멈춰", "그만", "수정해", "틀렸어", "다시", "stop", "fix", "no"
     - 추가 지시: "커밋해줘", "마무리해", "정리해" 등 누락된 작업 지시
   - 그 전후 맥락(assistant 응답, 툴 실행 결과)을 함께 고려한다.

2. **워크플로우 통합**
   - **별도 규칙이 아닌** 기존 프로세스의 개선으로 표현한다.
   - 프로젝트 특성에 맞는 문서를 찾아 자연스럽게 녹인다.
   - 각 개선사항은 **구체적 단계**와 **실제 예시**를 포함한다.
   - 통합 대상 (프로젝트에 따라 유동적):
     - `WORKFLOW.md`: 작업 단계 개선 (있는 경우)
     - `CLAUDE.md` 또는 프로젝트별 설정 파일: 메타 학습 사이클
     - `README.md`: 프로젝트 전반적인 작업 방식 (필요시)
     - 프로젝트별 컨벤션 문서: `CONTRIBUTING.md`, `docs/` 등
     - **`self-upgrade.md` 자체**: ~/dots/prompts/commands/self-upgrade 프로세스 자체의 개선

3. **문서 갱신**
   - 기존 섹션을 찾아 자연스럽게 확장한다:
     - 워크플로우 단계에 누락된 스텝 추가
     - 체크리스트에 검증 항목 추가
     - 메타 학습 사이클에 패턴 기록
   - 새로운 섹션보다는 기존 구조 활용을 우선시한다.

4. **적용**
   - 문서를 수정 후 저장한다.
   - Git이 설정돼 있으면 `git add/commit`을 수행한다(선택).
   - CI/CD 환경이라면 자동 컨텍스트로 개선사항이 반영된다.

## 성공 기준
- **사용자 추가 지시 없이도** 워크플로우가 **자연스럽게 개선**된다.
- 같은 패턴의 사용자 개입이 반복되지 않는다.
- 작업이 누락 없이 완전히 마무리된다.
- 단순한 지시에 대해 유저의 개입이 필요없도록 재현성을 높여서 신뢰성과 일관성을 강화한다.

## 예시: 커밋 자동화 개선
- **Before**: 사용자가 "커밋해줘"라고 지시해야 커밋 실행
- **After**: 이슈 완료 → 문서 업데이트 → CSV 변경 → **자동 커밋** 플로우로 통합
- **적용**: WORKFLOW.md의 "완료 및 검증" 단계에 자연스럽게 추가
