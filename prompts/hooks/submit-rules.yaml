# UserPromptSubmit Hook Rules
# í”„ë¡¬í”„íŠ¸ ì œì¶œ ì‹œ ìë™ìœ¼ë¡œ í™œì„±í™”ë˜ëŠ” ê·œì¹™ë“¤

# Skill Activation Rules (skill-*)
skill-living-docs:
  # ë¬¸ì„œ/ì§€ì‹ë² ì´ìŠ¤/TODO ê´€ë ¨ í‚¤ì›Œë“œ
  keywords:
    - "ë¬¸ì„œ"
    - "ë¬¸ì„œí™”"
    - "ë„íë¨¼íŠ¸"
    - "documentation"
    - "docs"
    - "TODO"
    - "í• ì¼"
    - "ì‘ì—…"
    - "ì§€ì‹ë² ì´ìŠ¤"
    - "knowledge"
    - "ì˜ì‚¬ê²°ì •"
    - "decision"
    - "ì •ì±…"
    - "policy"
    - "ìš”êµ¬ì‚¬í•­"
    - "requirement"
    - "ëª…ì„¸"
    - "spec"
    - "adr"
    - "ê¸°ë¡"
    - "record"
    - "í™•ì¸"
    - "ì²´í¬"
    # ì‘ì—… ì™„ë£Œ/ë³€ê²½ ê´€ë ¨ í‚¤ì›Œë“œ (stop-rules.yamlì—ì„œ ì´ë™)
    - "ì™„ë£Œ"
    - "êµ¬í˜„"
    - "ì¶”ê°€"
    - "ìˆ˜ì •"
    - "ë³€ê²½"
    - "ê°œë°œ"
    - "done"
    - "complete"
    - "finish"
    - "implement"
    - "add"
    - "modify"
    - "change"
    - "update"
    - "refactor"
    - "ë¦¬íŒ©í† ë§"
    - "feature"
    - "ê¸°ëŠ¥"
    # ë¬¸ì„œ ê±´ê°•ë„ ì²´í¬ í‚¤ì›Œë“œ
    - "ì°¾ê¸° í˜ë“¤ì–´"
    - "ì°¾ê¸° ì–´ë ¤ì›Œ"
    - "ì¤‘ë³µ"
    - "ë¬¸ì„œ ì •ë¦¬"
    - "docs ì •ë¦¬"
    - "docs health"
    - "ì •ë¦¬ í•„ìš”"

  # Claudeì—ê²Œ í‘œì‹œí•  í™œì„±í™” ë©”ì‹œì§€
  trigger_message: |
    ğŸ¯ SKILL ACTIVATION CHECK

    Detected keywords related to documentation/knowledge management.
    Consider using the 'living-docs' skill for:
    - Managing project knowledge base
    - Creating/updating TODO items
    - Recording decisions (ADR)
    - Documenting requirements and specifications
    - Automatic document health checks (size, duplication, references)

    ğŸ’¡ Tip: If you completed significant work (2+ files modified),
    consider updating living-docs with architectural decisions or lessons learned.

    ğŸ’¡ Advanced: After modifying documents, automatic health check will detect
    oversized files (300+ lines), duplicate content (80%+ tag overlap),
    and suggest refactoring for better organization.

# Claude.md Guide Skill Activation
skill-claude-md-guide:
  keywords:
    - "CLAUDE.md"
    - "claude.md"
    - "í´ë¡œë“œ ë¬¸ì„œ"
    - "í”„ë¡œì íŠ¸ ì„¤ì •"
    - "í”„ë¡œì íŠ¸ ë¬¸ì„œ"
    - "ë¦¬ë·°"
    - "review"
    - "ì •ë¦¬"

  trigger_message: |
    ğŸ“‹ CLAUDE.MD GUIDE SKILL

    Detected claude.md-related keywords. Consider using the 'claude-md-guide' skill for:
    - Reviewing existing claude.md files (length, structure, content analysis)
    - Identifying content that should be moved to skills (>20 lines of generic patterns)
    - Detecting missing required sections (quick commands, endpoints, env vars)
    - Separating project-specific content from generic patterns
    - Creating new claude.md files from templates

    ğŸ’¡ Tip: Use this skill to keep your claude.md files concise (50-100 lines)
    and project-specific, moving generic patterns to reusable skills.

# Dev Docs Skill Activation
skill-dev-docs:
  keywords:
    # ì‘ì—… ì‹œì‘
    - "ì‘ì—… ì‹œì‘"
    - "ì‘ì—…ì‹œì‘"
    - "dev-docs"
    - "dev docs"
    - "ê³„íš"
    - "ê³„íš ìˆ˜ë¦½"
    - "í”Œëœ"
    - "í”Œëœ ë"
    - "ê³„íš ì™„ë£Œ"

    # ì‘ì—… ì¬ê°œ
    - "ì‘ì—… ì´ì–´ì„œ"
    - "ì´ì–´ì„œ"
    - "continue"
    - "ë­í•˜ê³  ìˆì—ˆì§€"
    - "ë­ í•˜ê³  ìˆì—ˆì§€"
    - "ë¬´ì—‡ì„ í•˜ê³  ìˆì—ˆì§€"
    - "ì‘ì—… ì¬ê°œ"

    # í˜„í™© íŒŒì•…
    - "ì§„í–‰ ì¤‘ì¸ ì‘ì—…"
    - "ì§„í–‰ì¤‘ì¸ ì‘ì—…"
    - "ì‘ì—… ëª©ë¡"
    - "ì‘ì—… í˜„í™©"
    - "ì§„í–‰ ìƒí™©"
    - "ì§„í–‰ìƒí™©"
    - "status"

    # ì‘ì—… ì™„ë£Œ
    - "ì‘ì—… ë"
    - "ì‘ì—… ì™„ë£Œ"
    - "ì‘ì—…ì™„ë£Œ"
    - "dev-docs ì™„ë£Œ"
    - "ì•„ì¹´ì´ë¸Œ"
    - "archive"

    # ì¼ë°˜
    - "ì»¨í…ìŠ¤íŠ¸"
    - "context"

  trigger_message: |
    ğŸ“˜ DEV DOCS SKILL

    Detected dev-docs-related keywords. Consider using the 'dev-docs' skill for:
    - Starting new development tasks (/dev-start)
    - Resuming paused tasks with full context (/dev-continue)
    - Checking status of all active tasks (/dev-status)
    - Completing tasks and integrating to Living Docs (/dev-complete)
    - Maintaining context across sessions (plan.md, context.md, tasks.md)

    ğŸ’¡ Tip: Dev Docs prevents "Claude amnesia" for complex, multi-session work.
    Use it for large features, refactorings, or anything that takes multiple days.

# Test Guidelines Skill Activation
skill-test-guidelines:
  keywords:
    - "í…ŒìŠ¤íŠ¸"
    - "test"
    - "testing"
    - "ìœ ë‹› í…ŒìŠ¤íŠ¸"
    - "unit test"
    - "í†µí•© í…ŒìŠ¤íŠ¸"
    - "integration test"
    - "í…ŒìŠ¤íŠ¸ ì‘ì„±"
    - "í…ŒìŠ¤íŠ¸ ì½”ë“œ"

  trigger_message: |
    ğŸ§ª TEST GUIDELINES SKILL

    Detected test-related keywords. Consider using the 'test-guidelines' skill for:
    - Writing new test files
    - Reviewing existing tests
    - Test quality improvement
    - Fixture/Factory patterns
    - Mock usage guidelines (requires user approval)

# Security Review Skill Activation
skill-review-security:
  keywords:
    - "ë³´ì•ˆ"
    - "security"
    - "ë¦¬ë·°"
    - "review"
    - "ê²€í† "
    - "ì²´í¬"
    - "ì·¨ì•½ì "
    - "vulnerability"

  trigger_message: |
    ğŸ”’ SECURITY REVIEW SKILL

    Detected security/review keywords. Consider using the 'review-security' skill for:
    - Security review of changed files
    - OWASP Top 10 checks
    - Credential and secrets detection
    - SQL injection and XSS prevention
    - Authentication/authorization verification
    - Full project security scan

    ğŸ’¡ Tip: Use after completing features or before deployment

# DevOps Patterns Skill Activation
skill-patterns-devops:
  keywords:
    # Local CI
    - "lint"
    - "linter"
    - "í¬ë§·í„°"
    - "formatter"
    - "justfile"
    - "just"
    - "task runner"
    - "pre-commit"
    - "hooks"
    - "E2E"
    - "í†µí•© í…ŒìŠ¤íŠ¸"

    # CI/CD
    - "CI/CD"
    - "íŒŒì´í”„ë¼ì¸"
    - "pipeline"
    - "GitHub Actions"
    - "GitLab CI"
    - "ìë™í™”"
    - "automation"

    # Docker
    - "Docker"
    - "docker"
    - "compose"
    - "compose.yaml"
    - "docker-compose"
    - "ì»¨í…Œì´ë„ˆ"
    - "container"
    - "ì´ë¯¸ì§€"
    - "image"
    - "ë©€í‹°ìŠ¤í…Œì´ì§€"
    - "multi-stage"

    # Deployment
    - "ë°°í¬"
    - "deploy"
    - "deployment"
    - "PM2"
    - "í”„ë¡œì„¸ìŠ¤"
    - "process"
    - "ë¡¤ë°±"
    - "rollback"

    # Language-specific
    - "Biome"
    - "biome"
    - "Vitest"
    - "vitest"

  trigger_message: |
    ğŸš€ DEVOPS PATTERNS SKILL

    Detected DevOps-related keywords. Consider using the 'patterns-devops' skill for:
    - Local CI: Justfile, lint/test automation, E2E testing
    - CI/CD: GitHub Actions, GitLab CI pipelines
    - Docker: compose.yaml, multi-stage builds, containerization
    - Deployment: PM2, deployment scripts, rollback strategies
    - TypeScript: Biome (ESLint alternative), Vitest

    ğŸ’¡ Tip: The skill loads only the resources you need (token-efficient).
    Mention specific keywords (e.g., "Justfile", "Docker", "PM2") for targeted help.

# TDD Practices Skill Activation
skill-tdd-practices:
  keywords:
    # TDD ëª…ì‹œì  í‚¤ì›Œë“œ
    - "TDD"
    - "í…ŒìŠ¤íŠ¸ ì£¼ë„"
    - "í…ŒìŠ¤íŠ¸ ë¨¼ì €"
    - "test first"
    - "test-driven"

    # RED/GREEN ë‹¨ê³„
    - "ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸"
    - "failing test"
    - "red phase"
    - "green phase"
    - "ìµœì†Œ êµ¬í˜„"
    - "fake it"
    - "minimal implementation"

  trigger_message: |
    ğŸ”„ TDD PRACTICES SKILL

    Detected TDD workflow keywords.
    Consider using the 'tdd-practices' skill for:
    - Following RED-GREEN-REFACTOR cycle
    - Writing failing tests first (Phase 1-2)
    - Implementing minimal code to pass (Phase 3)
    - Refactoring without breaking tests (Phase 4)
    - Detecting AI anti-patterns (test deletion, over-implementation)

    ğŸ’¡ Tip: TDD is most effective when starting new features, fixing bugs with tests first, or refactoring with full coverage. Always write the test BEFORE implementation.

# Ansible Deployment Skill Activation
skill-ansible-deployment:
  keywords:
    - "ansible"
    - "playbook"

  trigger_message: |
    ğŸš€ ANSIBLE DEPLOYMENT SKILL

    Detected Ansible keywords. Consider using the 'ansible-deployment' skill for:
    - Diff checking before deployment (copy module check_mode + diff)
    - SSH authentication (vars_prompt, ProxyJump)
    - Safe deployment playbook patterns (block, role, handlers)

    ğŸ’¡ Tip: Use copy module's native diff instead of shell scripts for colored output.

# í–¥í›„ ì¶”ê°€ ì˜ˆì‹œ (ì£¼ì„)
# skill-pdf-tools:
#   keywords:
#     - "pdf"
#     - "ë¬¸ì„œë³€í™˜"
#   trigger_message: "ğŸ¯ Use pdf-tools skill"
#
# reminder-api-design:
#   keywords:
#     - "API ì„¤ê³„"
#     - "ì—”ë“œí¬ì¸íŠ¸"
#   trigger_message: "ğŸ“‹ API Design Guidelines..."
