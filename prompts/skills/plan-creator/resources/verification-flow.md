# 검증 플로우 상세

각 Phase와 Task의 검증 과정 예시.

## WHY 검증 예시

```
User: /plan-creator REST API 만들기

=== WHY ===
확인이 필요합니다:
1. 목표가 무엇인가요?
2. 완료 조건은?

User: 할일 CRUD API, 테스트 통과하면 완료

✓ WHY 검증:
  [✓] 목표: "할일 CRUD API" - 구체적
  [✓] 완료 조건: "테스트 통과" - 측정 가능
  [✓] 범위: CRUD 전체 - 명확
→ Phase 2 진행
```

### WHY 검증 실패 예시

```
User: API 좀 개선해줘

✓ WHY 검증:
  [✗] 목표: "API 개선" - 모호함 (어떤 API? 어떤 개선?)
  [✗] 완료 조건: 없음
  [✗] 범위: 불명확
→ 추가 질문 필요

추가 질문:
1. 어떤 API를 개선하나요? (인증, 주문, 사용자?)
2. 어떤 측면을 개선하나요? (성능, 보안, 가독성?)
3. 완료 조건은 무엇인가요?
```

---

## Task 검증 예시

```
=== PLAN ===

Task 1: schema
  ✓ why: "데이터 구조 정의 필요" - 있음
  ✓ blockedBy: 없음 - 첫 task로 적절
  ✓ 독립 검증: 스키마 파일 존재로 확인 가능
  ✓ 리스크: low - 단순 작업
→ 통과

Task 2: api
  ✓ why: "CRUD 기능 핵심" - 있음
  ✓ blockedBy: [schema] - 논리적 (스키마 없이 API 불가)
  ✓ 독립 검증: 엔드포인트 응답으로 확인 가능
  ✓ 리스크: medium - 복잡도 있음
→ 통과

Task 3: test
  ✓ why: "완료 조건 충족" - 있음
  ✓ blockedBy: [api] - 논리적 (API 없이 테스트 불가)
  ✓ 독립 검증: 테스트 통과로 확인 가능
  ✓ 리스크: low - 명확한 작업
→ 통과
```

### Task 검증 실패 예시

```
Task: 코드 정리
  [✗] why: 없음
  [?] blockedBy: 불명확
  [✗] 독립 검증: "정리됨"을 어떻게 확인?
→ 수정 필요

수정 후:
Task: 중복 함수 통합
  [✓] why: "유지보수성 향상, 3개 함수가 동일 로직"
  [✓] blockedBy: 없음
  [✓] 독립 검증: 함수 개수 3→1 확인
→ 통과
```

---

## PLAN 전체 검증 예시

```
✓ PLAN 전체 검증:
  [✓] 모든 task에 why 있음 (3/3)
  [✓] 순환 의존성 없음
      schema → api → test (선형)
  [✓] 완료 조건 커버리지:
      - "테스트 통과" → task 3 (test)
  [✓] 병렬 그룹:
      Group 1: [schema]
      Group 2: [api]
      Group 3: [test]
  [✓] 크리티컬 패스: schema → api → test
→ 출력물 생성
```

### PLAN 전체 검증 실패 예시

```
✓ PLAN 전체 검증:
  [✓] 모든 task에 why 있음
  [✗] 순환 의존성 발견!
      A → B → C → A
  [✗] 완료 조건 커버리지 부족:
      - "테스트 통과" → 커버하는 task 없음
→ task 수정/추가 필요

수정:
- 순환 의존성 해결: C의 blockedBy에서 A 제거
- test task 추가
```

---

## 실행 시 커밋 플로우

```
Group 1 실행
  → task들 완료
  → ✓ 검증 (각 task 결과 확인)
  → 커밋: "feat: {group1 설명}"

Group 2 실행
  → task들 완료
  → ✓ 검증
  → 커밋: "feat: {group2 설명}"

...반복...

Group N 실행 (최종)
  → task들 완료
  → ✓ 검증
  → 커밋: "feat: {groupN 설명}"
```

**커밋 단위**: 병렬 그룹 = 논리적 단위 = 커밋 단위

---

## 검증 체크리스트 요약

### WHY 검증
- [ ] 목표가 구체적인가?
- [ ] 완료 조건이 측정 가능한가?
- [ ] 범위가 명확한가?

### Task 검증 (매 task)
- [ ] why 필드가 있는가?
- [ ] blockedBy가 논리적인가?
- [ ] 독립적으로 완료 확인 가능한가?
- [ ] 리스크 수준이 적절한가?

### PLAN 전체 검증
- [ ] 모든 task에 why가 있는가?
- [ ] 순환 의존성이 없는가?
- [ ] 완료 조건이 task로 커버되는가?
- [ ] 병렬 그룹이 논리적인가?
- [ ] 크리티컬 패스가 식별되었는가?

### 실행 시 그룹 검증 (각 그룹 완료 후)
- [ ] 그룹 내 모든 task 완료?
- [ ] 각 task 결과 확인 가능?
- [ ] 커밋 준비 완료?